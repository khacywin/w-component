@import './../../__css__/mixin.scss';

@mixin amount-tag {
  @include align("padding", "a", 2);
  @include borderRadius("normal");
  @include fontSize("small");
  position: absolute;
  top: -30px;
  right: 0;
  transform: translate(50%, 0);
}

@mixin arrow-down {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 6px solid;
  position: absolute;
  top: -6px;
  right: 0;
  transform: translate(50%, 0);
}

.w-chart-process {
  @include borderRadius("normal");
  width: 100%;
  height: 5px;
  position: relative;
  background-color: var(--secondary);
  margin-top: 30px;

  &::before {
    @include amount-tag;
    content: attr(data-sum);
    background-color: var(--secondary);
    color: var(--backgroundContent);
  }

  &::after {
    @include arrow-down;
    content: "";
    border-top-color: var(--secondary);
  }

  &-title {
    @include fontWeight("light");
    @include fontSize("small");
    text-align: center;
    user-select: none;
  }

  &-value {
    @include borderRadius("normal");
    position: absolute;
    left: 0;
    top: 0;
    height: 5px;
    width: attr(data-percent);
    background-color: var(--success);
    animation: aniProcess 1s linear;

    &::before {
      @include amount-tag;
      content: attr(data-amount);
      background-color: var(--success);
      color: var(--backgroundContent);
    }

    &::after {
      @include arrow-down;
      content: "";
      border-top-color: var(--success);
    }
  }

  @keyframes aniProcess {
    0% {
      width: 0%;
    }
    100% {
      width: attr(data-percent);
    }
  }
}
