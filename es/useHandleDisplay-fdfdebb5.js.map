{"version":3,"file":"useHandleDisplay-fdfdebb5.js","sources":["../components/_util/hooks/useHandleDisplay.ts"],"sourcesContent":["import { RefObject, useEffect, useState } from 'react';\r\n\r\nfunction useHandleDisplay<T extends HTMLElement>(ref: RefObject<T>, clickOut = true) {\r\n  const [isDisplay, setIsDisplay] = useState(false);\r\n  /**\r\n   * On toggle display\r\n   */\r\n  const onToggleDisplay = () => setIsDisplay(isDisplay => !isDisplay);\r\n\r\n  /**\r\n   * Add method in click event\r\n   */\r\n  function hide() {\r\n    setTimeout(() => setIsDisplay(false), 100);\r\n  }\r\n\r\n  /**\r\n   * Show\r\n   */\r\n  function show() {\r\n    setIsDisplay(true);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isDisplay) return;\r\n\r\n    // if clicked on outside of element\r\n    function handleClickOutside(e: any) {\r\n      const current = ref.current;\r\n\r\n      // When click in LI element, it's disappear\r\n      if (clickOut) {\r\n        const target = e.target;\r\n        const path = e.path || (e.composedPath && e.composedPath()) || [];\r\n\r\n        // Get li elements in dropdown menu\r\n        const liElements = ref.current?.querySelectorAll && Object.entries(ref.current?.querySelectorAll('li')); // [{'index', node}]\r\n\r\n        if (\r\n          target.nodeName === 'LI' ||\r\n          (liElements &&\r\n            liElements.filter((node: any) => node[1].isEqualNode(target)).length > 0)\r\n          || path.find((item: any) => item.nodeName === 'LI')\r\n        ) {\r\n          hide();\r\n        }\r\n      }\r\n\r\n      // Handle\r\n      if (current) {\r\n        const path = e.path || (e.composedPath && e.composedPath()) || [];\r\n\r\n        // Hide path when click outside\r\n        !path.some((item: any) => current.contains(item.parentNode)) && hide();\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    setTimeout(() => {\r\n      if (ref.current?.parentElement.classList.contains('dialog-mark')) {\r\n        ref.current.parentElement.onmouseup = handleClickOutside;\r\n      } else {\r\n        document.addEventListener('mouseup', handleClickOutside)\r\n      }\r\n    }, 10);\r\n    \r\n    return () => {\r\n      // Unbind the event listener on clean up\r\n      if (ref?.current?.parentElement.classList.contains('dialog-mark')) {\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        ref.current.parentElement.onmouseup = null;\r\n      } else {\r\n        document.removeEventListener('mouseup', handleClickOutside)\r\n      }\r\n    };\r\n  }, [clickOut, isDisplay, ref]);\r\n\r\n  return {\r\n    isDisplay,\r\n    onToggleDisplay,\r\n    show,\r\n    hide\r\n  };\r\n}\r\n\r\nexport default useHandleDisplay;\r\n"],"names":[],"mappings":";;AAEA,SAAS,gBAAgB,CAAwB,GAAiB,EAAE,QAAQ,GAAG,IAAI;IACjF,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;;;;IAIlD,MAAM,eAAe,GAAG,MAAM,YAAY,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,CAAC;;;;IAKpE,SAAS,IAAI;QACX,UAAU,CAAC,MAAM,YAAY,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC;KAC5C;;;;IAKD,SAAS,IAAI;QACX,YAAY,CAAC,IAAI,CAAC,CAAC;KACpB;IAED,SAAS,CAAC;QACR,IAAI,CAAC,SAAS;YAAE,OAAO;;QAGvB,SAAS,kBAAkB,CAAC,CAAM;;YAChC,MAAM,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;;YAG5B,IAAI,QAAQ,EAAE;gBACZ,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;gBACxB,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC,IAAI,EAAE,CAAC;;gBAGlE,MAAM,UAAU,GAAG,OAAA,GAAG,CAAC,OAAO,0CAAE,gBAAgB,KAAI,MAAM,CAAC,OAAO,OAAC,GAAG,CAAC,OAAO,0CAAE,gBAAgB,CAAC,IAAI,EAAE,CAAC;gBAExG,IACE,MAAM,CAAC,QAAQ,KAAK,IAAI;qBACvB,UAAU;wBACT,UAAU,CAAC,MAAM,CAAC,CAAC,IAAS,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;uBACxE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAS,KAAK,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,EACnD;oBACA,IAAI,EAAE,CAAC;iBACR;aACF;;YAGD,IAAI,OAAO,EAAE;gBACX,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC,IAAI,EAAE,CAAC;;gBAGlE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAS,KAAK,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC;aACxE;SACF;;QAGD,UAAU,CAAC;;YACT,UAAI,GAAG,CAAC,OAAO,0CAAE,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,GAAG;gBAChE,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,GAAG,kBAAkB,CAAC;aAC1D;iBAAM;gBACL,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAA;aACzD;SACF,EAAE,EAAE,CAAC,CAAC;QAEP,OAAO;;;YAEL,UAAI,GAAG,aAAH,GAAG,uBAAH,GAAG,CAAE,OAAO,0CAAE,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,aAAa,GAAG;;gBAEjE,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC;aAC5C;iBAAM;gBACL,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAA;aAC5D;SACF,CAAC;KACH,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;IAE/B,OAAO;QACL,SAAS;QACT,eAAe;QACf,IAAI;QACJ,IAAI;KACL,CAAC;AACJ;;;;"}