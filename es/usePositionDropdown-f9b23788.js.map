{"version":3,"file":"usePositionDropdown-f9b23788.js","sources":["../components/_util/hooks/usePositionDropdown.ts"],"sourcesContent":["import { RefObject, useCallback, useMemo } from 'react';\r\n\r\nimport { TPosition } from 'util/type';\r\n\r\nfunction usePositionDropdown<T extends HTMLBaseElement>(ref: RefObject<T>, options: {\r\n  add?: {\r\n    width?: number,\r\n    height?: number\r\n  }\r\n  position?: TPosition\r\n} = {\r\n    add: {\r\n      width: 0,\r\n      height: 0\r\n    }\r\n  }) {\r\n\r\n  // Get position of screen\r\n  const pScreen = useMemo(() => {\r\n    return {\r\n      x: 0,\r\n      y: 0,\r\n      height: window.innerHeight,\r\n      width: window.innerWidth,\r\n    };\r\n  }, []);\r\n\r\n  const _handlePosition = useCallback((add?: Partial<{ left: number, right: number, top: number, bottom: number }>) => {\r\n    const posElement = ref.current.getBoundingClientRect();\r\n    const transform = [];\r\n    let transformOriginY = 'left';\r\n    let transformOriginX = 'top';\r\n\r\n    if (add) {\r\n      transform.push(`translateX(${add.left || 0}px)`);\r\n      transform.push(`translateX(${-add.right || 0}px)`);\r\n      transform.push(`translateY(${-add.bottom || 0}px)`);\r\n      transform.push(`translateY(${-add.top || 0}px)`);\r\n    }\r\n\r\n    if (posElement.x < 0) {\r\n      transform.push(`translateX(${-posElement.x - options?.add?.width || 0}px)`);\r\n      transformOriginY = 'top';\r\n    } else if (posElement.right > pScreen.width - 10) {\r\n      transform.push(`translateX(-100% - ${options?.add?.width || 0}px)`);\r\n      transformOriginY = 'bottom';\r\n    }\r\n\r\n    if (posElement.top < 0) {\r\n      transform.push(`translateY(calc(100% + ${options?.add?.height || 35})`);\r\n      transformOriginX = 'left';\r\n    } else if (posElement.bottom > pScreen.height) {\r\n      transform.push(`translateY(calc(-100% - ${options?.add?.height || 35}px))`);\r\n      transformOriginX = 'right';\r\n    }\r\n\r\n    ref.current.style.transform = transform.join(' ');\r\n    ref.current.style.visibility = 'visible';\r\n    ref.current.style.transformOrigin = `${transformOriginX} ${transformOriginY}`;\r\n  }, [ref, pScreen.width, pScreen.height, options?.add?.width, options?.add?.height]);\r\n\r\n  return {\r\n    handlePosition: _handlePosition\r\n  };\r\n}\r\n\r\nexport default usePositionDropdown;\r\n"],"names":[],"mappings":"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"}