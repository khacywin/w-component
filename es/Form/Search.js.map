{"version":3,"file":"Search.js","sources":["../../components/Form/Search.tsx"],"sourcesContent":["/**\r\n * @prop {(val: string) => void} fnSearch\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport { fontSize, opacity, space } from \"css/base\";\r\n\r\nimport ButtonNoStyle from \"css/elements/ButtonNoStyle\";\r\nimport Icon from \"components/Icon\";\r\nimport styled from \"styled-components\";\r\nimport transition from \"css/transition\";\r\n\r\ninterface Props {\r\n  fnSearch: (val: string) => void;\r\n  defaultValue?: string;\r\n  placeholder?: string;\r\n  dark?: boolean;\r\n  value?: string;\r\n  onChange?: (...arg: any) => void;\r\n}\r\nexport default React.memo((props: Props) => {\r\n  const [isFocus, setIsFocus] = useState(false);\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  function focus() {\r\n    setIsFocus(true);\r\n  }\r\n\r\n  /**\r\n   * @param {React.ChangeEvent<HTMLInputElement>} e\r\n   */\r\n  function blur(e: React.ChangeEvent<HTMLInputElement>) {\r\n    if (!e.target.value) {\r\n      setIsFocus(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {React.FormEvent} e\r\n   */\r\n  function submit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    props.fnSearch(value);\r\n  }\r\n\r\n  return (\r\n    <Search\r\n      dark={props.dark}\r\n      focus={isFocus}\r\n      onSubmit={submit}\r\n      className=\"w-search\"\r\n    >\r\n      <button type=\"submit\">\r\n        <Icon color={props.dark ? \"#fff\" : \"#1a1a1a\"} icon=\"i-search\" />\r\n      </button>\r\n      {props.value !== undefined && props.onChange ? (\r\n        <Input\r\n          value={props.value}\r\n          onChange={props.onChange}\r\n          placeholder={`${props.placeholder || \"Search...\"}`}\r\n          onFocus={() => focus()}\r\n          onBlur={(e: any) => blur(e)}\r\n        />\r\n      ) : (\r\n        <Input\r\n          value={value}\r\n          onChange={(e: any) => setValue(e.target.value)}\r\n          placeholder={`${props.placeholder || \"Search...\"}`}\r\n          onFocus={() => focus()}\r\n          onBlur={(e: any) => blur(e)}\r\n        />\r\n      )}\r\n    </Search>\r\n  );\r\n});\r\n\r\ninterface PropsWrap {\r\n  focus: boolean;\r\n  dark: boolean;\r\n}\r\nconst Search = styled.form<PropsWrap>`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  border-bottom: 1px solid ${({ dark }) => (dark ? \"#fff\" : \"#c7c7c7\")};\r\n  width: 200px;\r\n  input {\r\n    color: ${({ dark }) => (dark ? \"#fff\" : \"initial\")};\r\n  }\r\n\r\n  ${space.P2.y};\r\n  ${space.P3.x};\r\n  ${transition.easeIn};\r\n  ${opacity.SemiTransparent};\r\n  ${(props) =>\r\n    props.focus &&\r\n    `\r\n    opacity: 1;\r\n    max-width: 300px;\r\n    width: 100%;\r\n  `};\r\n  button {\r\n    ${ButtonNoStyle};\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  margin-left: 5px;\r\n  background-color: transparent;\r\n  border: none;\r\n  ${fontSize.normal};\r\n\r\n  &:focus {\r\n    outline: 0;\r\n  }\r\n`;\r\n"],"names":["Search","space.P2","space.P3","opacity.SemiTransparent","fontSize.normal"],"mappings":";;;;;;;AAAA;;;AAoBA,aAAe,KAAK,CAAC,IAAI,CAAC,CAAC,KAAY;IACrC,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC9C,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;IAEvC,SAAS,KAAK;QACZ,UAAU,CAAC,IAAI,CAAC,CAAC;KAClB;;;;IAKD,SAAS,IAAI,CAAC,CAAsC;QAClD,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE;YACnB,UAAU,CAAC,KAAK,CAAC,CAAC;SACnB;KACF;;;;IAKD,SAAS,MAAM,CAAC,CAAkB;QAChC,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACvB;IAED,QACE,oBAACA,QAAM,IACL,IAAI,EAAE,KAAK,CAAC,IAAI,EAChB,KAAK,EAAE,OAAO,EACd,QAAQ,EAAE,MAAM,EAChB,SAAS,EAAC,UAAU;QAEpB,gCAAQ,IAAI,EAAC,QAAQ;YACnB,oBAAC,IAAI,IAAC,KAAK,EAAE,KAAK,CAAC,IAAI,GAAG,MAAM,GAAG,SAAS,EAAE,IAAI,EAAC,UAAU,GAAG,CACzD;QACR,KAAK,CAAC,KAAK,KAAK,SAAS,IAAI,KAAK,CAAC,QAAQ,IAC1C,oBAAC,KAAK,IACJ,KAAK,EAAE,KAAK,CAAC,KAAK,EAClB,QAAQ,EAAE,KAAK,CAAC,QAAQ,EACxB,WAAW,EAAE,GAAG,KAAK,CAAC,WAAW,IAAI,WAAW,EAAE,EAClD,OAAO,EAAE,MAAM,KAAK,EAAE,EACtB,MAAM,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,CAAC,CAAC,GAC3B,KAEF,oBAAC,KAAK,IACJ,KAAK,EAAE,KAAK,EACZ,QAAQ,EAAE,CAAC,CAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,EAC9C,WAAW,EAAE,GAAG,KAAK,CAAC,WAAW,IAAI,WAAW,EAAE,EAClD,OAAO,EAAE,MAAM,KAAK,EAAE,EACtB,MAAM,EAAE,CAAC,CAAM,KAAK,IAAI,CAAC,CAAC,CAAC,GAC3B,CACH,CACM,EACT;AACJ,CAAC,CAAC,CAAC;AAMH,MAAMA,QAAM,GAAG,MAAM,CAAC,IAAI,CAAW;;;6BAGR,CAAC,EAAE,IAAI,EAAE,MAAM,IAAI,GAAG,MAAM,GAAG,SAAS,CAAC;;;aAGzD,CAAC,EAAE,IAAI,EAAE,MAAM,IAAI,GAAG,MAAM,GAAG,SAAS,CAAC;;;IAGlDC,EAAQ,CAAC,CAAC;IACVC,EAAQ,CAAC,CAAC;IACV,UAAU,CAAC,MAAM;IACjBC,eAAuB;IACvB,CAAC,KAAK,KACN,KAAK,CAAC,KAAK;IACX;;;;GAID;;MAEG,aAAa;;CAElB,CAAC;AAEF,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAA;;;;IAItBC,MAAe;;;;;CAKlB;;;;"}