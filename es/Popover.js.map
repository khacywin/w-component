{"version":3,"file":"Popover.js","sources":["../components/Popover.tsx"],"sourcesContent":["/**\r\n * Dropdown menu\r\n * @props dropdown: button to click\r\n * @props dropdown_menu: menu\r\n * @props position: position of menu\r\n */\r\n\r\nimport React, { ReactElement, useRef } from \"react\";\r\nimport { borderRadius, boxShadow, fontSize, opacity, space } from \"css/base\";\r\n\r\nimport styled from \"styled-components\";\r\nimport transition from \"css/transition\";\r\nimport useHandleDisplay from \"hooks/useHandleDisplay\";\r\nimport usePositionDialog from \"hooks/usePositionDialog\";\r\n\r\nconst WrapPopover = styled.div`\r\n  display: block;\r\n  position: relative;\r\n  width: min-content;\r\n`;\r\n\r\ntype Position = \"left\" | \"right\" | \"top\" | \"bottom\";\r\ninterface PropsPopover {\r\n  show: boolean;\r\n  position: Position;\r\n  full: boolean;\r\n}\r\n\r\ninterface Props {\r\n  full?: boolean; // set width is 100% or initial\r\n  position?: Position;\r\n  title?: ReactElement | string;\r\n  content: ReactElement | string;\r\n  children: ReactElement | string;\r\n}\r\nexport default React.memo((props: Props) => {\r\n  const refMenu: any = useRef();\r\n  const ref = useRef();\r\n  const { isDisplay, onToggleDisplay } = useHandleDisplay(refMenu);\r\n  usePositionDialog(refMenu, ref);\r\n\r\n  return (\r\n    <WrapPopover>\r\n      <Dropdown ref={ref} onClick={onToggleDisplay}>\r\n        {props.children}\r\n      </Dropdown>\r\n      <Popover\r\n        ref={refMenu}\r\n        full={!!props.full}\r\n        position={props.position || \"left\"}\r\n        show={isDisplay}\r\n      >\r\n        {props.title && <PopoverTitle>{props.title}</PopoverTitle>}\r\n        <PopoverContent>{props.content}</PopoverContent>\r\n      </Popover>\r\n    </WrapPopover>\r\n  );\r\n});\r\n\r\nconst Popover = styled.div<PropsPopover>`\r\n  & > * {\r\n    display: ${(props) => !props.show && \"none\"};\r\n  }\r\n  position: absolute;\r\n  min-width: 200px;\r\n  background-color: var(--backgroundContent);\r\n  z-index: 999;\r\n  contain: layout;\r\n\r\n  ${boxShadow.normal};\r\n  ${borderRadius.normal};\r\n  ${transition.popup};\r\n  ${(props) => (props.show ? space.P2.a : space.P0.a)};\r\n  ${(props) => (props.show ? transition.showPopup : transition.hiddenPopup)};\r\n  ${(props) =>\r\n    props.position === \"right\"\r\n      ? \"right: 0\"\r\n      : props.position === \"left\"\r\n      ? \"left: 0;\"\r\n      : props.position === \"top\" && \"bottom: calc(100% + 10px);\"};\r\n\r\n  ${(props) => props.full && \"width: 100%\"};\r\n\r\n  hr {\r\n    height: 1px;\r\n    ${opacity.ImageTransparent};\r\n  }\r\n\r\n  li {\r\n    ${fontSize.normal};\r\n    ${borderRadius.normal};\r\n    ${space.P3.a};\r\n    list-style: none;\r\n    position: relative;\r\n    width: max-content;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    div[src] {\r\n      margin-right: 5px;\r\n    }\r\n\r\n    &:hover {\r\n      background-color: var(--backgroundOpacity);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Dropdown = styled.div`\r\n  cursor: pointer;\r\n  width: max-content;\r\n`;\r\n\r\nconst PopoverTitle = styled.div`\r\n  border-bottom: 1px solid var(--borderLight);\r\n  padding: 5px;\r\n  ${fontSize.big};\r\n`;\r\n\r\nconst PopoverContent = styled.div`\r\n  padding: 5px;\r\n  padding-top: 8px;\r\n`;\r\n"],"names":["usePositionDialog","Popover","boxShadow.normal","borderRadius.normal","space.P2","space.P0","opacity.ImageTransparent","fontSize.normal","space.P3","fontSize.big"],"mappings":";;;;;;;AAAA;;;;;;AAeA,MAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAA;;;;CAI7B,CAAC;AAgBF,cAAe,KAAK,CAAC,IAAI,CAAC,CAAC,KAAY;IACrC,MAAM,OAAO,GAAQ,MAAM,EAAE,CAAC;IAC9B,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC;IACrB,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,GAAG,gBAAgB,CAAC,OAAO,CAAC,CAAC;IACjEA,iBAAiB,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;IAEhC,QACE,oBAAC,WAAW;QACV,oBAAC,QAAQ,IAAC,GAAG,EAAE,GAAG,EAAE,OAAO,EAAE,eAAe,IACzC,KAAK,CAAC,QAAQ,CACN;QACX,oBAACC,SAAO,IACN,GAAG,EAAE,OAAO,EACZ,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,EAClB,QAAQ,EAAE,KAAK,CAAC,QAAQ,IAAI,MAAM,EAClC,IAAI,EAAE,SAAS;YAEd,KAAK,CAAC,KAAK,IAAI,oBAAC,YAAY,QAAE,KAAK,CAAC,KAAK,CAAgB;YAC1D,oBAAC,cAAc,QAAE,KAAK,CAAC,OAAO,CAAkB,CACxC,CACE,EACd;AACJ,CAAC,CAAC,CAAC;AAEH,MAAMA,SAAO,GAAG,MAAM,CAAC,GAAG,CAAc;;eAEzB,CAAC,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,MAAM;;;;;;;;IAQ3CC,MAAgB;IAChBC,QAAmB;IACnB,UAAU,CAAC,KAAK;IAChB,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,GAAGC,EAAQ,CAAC,CAAC,GAAGC,EAAQ,CAAC,CAAC,CAAC;IACjD,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,GAAG,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,WAAW,CAAC;IACvE,CAAC,KAAK,KACN,KAAK,CAAC,QAAQ,KAAK,OAAO;MACtB,UAAU;MACV,KAAK,CAAC,QAAQ,KAAK,MAAM;UACzB,UAAU;UACV,KAAK,CAAC,QAAQ,KAAK,KAAK,IAAI,4BAA4B;;IAE5D,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,IAAI,aAAa;;;;MAIpCC,gBAAwB;;;;MAIxBC,QAAe;MACfJ,QAAmB;MACnBK,EAAQ,CAAC,CAAC;;;;;;;;;;;;;;;;;CAiBf,CAAC;AAEF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAA;;;CAG1B,CAAC;AAEF,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAA;;;IAG3BC,GAAY;CACf,CAAC;AAEF,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAA;;;CAGhC;;;;"}