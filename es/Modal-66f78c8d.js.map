{"version":3,"file":"Modal-66f78c8d.js","sources":["../components/Modal.tsx"],"sourcesContent":["/**\r\n * @prop {heading?} label\r\n * @prop {JSX.Element | JSX.Element[]} content\r\n * @prop {JSX.Element | JSX.Element[] ?} footer\r\n * @prop {boolean} show\r\n */\r\n\r\nimport React, { useEffect, useImperativeHandle, useState } from \"react\";\r\nimport { borderRadius, boxShadow, fontSize, fontWeight, space } from \"css/base\";\r\nimport styled, { css, keyframes } from \"styled-components\";\r\n\r\nimport Button from \"components/Button\";\r\nimport ButtonAction from \"components/Button/ButtonAction\";\r\nimport Icon from \"components/Icon\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\ninterface PropsModalStyled {\r\n  show: boolean;\r\n}\r\n\r\nexport interface IProps {\r\n  heading?: string;\r\n  content?: JSX.Element | JSX.Element[] | string;\r\n  children?: JSX.Element | JSX.Element[] | string;\r\n  footer?: JSX.Element;\r\n  fnClose?: () => void; // When you open Modal only with use ref, you can use this function to handle\r\n  noFooter?: boolean;\r\n  show?: boolean;\r\n  styled?: any;\r\n}\r\n\r\nexport type TRefModal = {\r\n  show: () => void;\r\n  hide: () => void;\r\n} & HTMLDivElement;\r\n\r\nexport default React.forwardRef(\r\n  (\r\n    {\r\n      heading,\r\n      content,\r\n      children,\r\n      footer,\r\n      fnClose,\r\n      noFooter,\r\n      show,\r\n      styled,\r\n    }: IProps,\r\n    ref: any\r\n  ) => {\r\n    const [isShow, setShow] = useState(false);\r\n\r\n    useImperativeHandle(ref, () => ({\r\n      show() {\r\n        setShow(true);\r\n      },\r\n\r\n      hide() {\r\n        setShow(false);\r\n        setTimeout(() => {\r\n          fnClose?.();\r\n        }, 100);\r\n      },\r\n    }));\r\n\r\n    function hide(): void {\r\n      setShow(false);\r\n      if (fnClose) {\r\n        fnClose();\r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n      setShow(show);\r\n    }, [show]);\r\n\r\n    return isShow\r\n      ? createPortal(\r\n          <WrapModal>\r\n            <ModalDialog style={styled} className=\"w-modal-wrap\" show={isShow}>\r\n              <ModalHeading>\r\n                {heading && <span>{heading}</span>}\r\n                <ButtonAction action={() => hide()}>\r\n                  <Icon icon=\"i-close\" />\r\n                </ButtonAction>\r\n              </ModalHeading>\r\n\r\n              <ModalContainer>{content || children}</ModalContainer>\r\n              {!noFooter && (\r\n                <ModalFooter>\r\n                  {footer ? (\r\n                    footer\r\n                  ) : (\r\n                    <Button fnClick={() => hide()}> OK </Button>\r\n                  )}\r\n                </ModalFooter>\r\n              )}\r\n            </ModalDialog>\r\n          </WrapModal>,\r\n          document.getElementById(\"modal-root\")\r\n        )\r\n      : null;\r\n  }\r\n);\r\n\r\nconst WrapModal = styled.div`\r\n  position: fixed;\r\n  z-index: 999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100%;\r\n  min-height: 100vh;\r\n  overflow-x: auto;\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 4px;\r\n  }\r\n`;\r\n\r\nconst animationShow = keyframes`\r\n  0%{\r\n    transform: scale(0);\r\n  }\r\n  100%{\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst cssShow = css`\r\n  animation: ${animationShow} 0.2s linear;\r\n`;\r\nconst ModalDialog = styled.div<PropsModalStyled>`\r\n  min-width: 400px;\r\n  max-width: 600px;\r\n  height: auto;\r\n  background-color: var(--backgroundContent);\r\n\r\n  margin: 6vh auto;\r\n\r\n  ${borderRadius.normal};\r\n  ${boxShadow.menu};\r\n  ${({ show }) => (show ? cssShow : \"\")};\r\n`;\r\n\r\nconst ModalHeading = styled.div`\r\n  ${space.P3.a};\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  ${fontSize.small};\r\n  ${fontWeight.semiBold};\r\n  user-select: none;\r\n\r\n  span {\r\n    position: relative;\r\n\r\n    &::before {\r\n      content: \"\";\r\n      position: absolute;\r\n      width: 70%;\r\n      height: 0.5px;\r\n      background-color: var(--border);\r\n      bottom: 0;\r\n      left: 0;\r\n    }\r\n  }\r\n\r\n  button {\r\n    margin-right: 0;\r\n    margin-left: auto;\r\n  }\r\n`;\r\n\r\nconst ModalContainer = styled.div`\r\n  ${space.P5.x};\r\n`;\r\n\r\nconst ModalFooter = styled.div`\r\n  ${space.P3.a};\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  position: relative;\r\n\r\n  &::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 70%;\r\n    height: 0.5px;\r\n    background-color: var(--border);\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n\r\n  button {\r\n    ${space.M1.l};\r\n  }\r\n`;\r\n"],"names":["borderRadius.normal","boxShadow.menu","space.P3","fontSize.small","fontWeight.semiBold","space.P5","space.M1"],"mappings":";;;;;;;;AAAA;;;;;;AAoCA,YAAe,KAAK,CAAC,UAAU,CAC7B,CACE,EACE,OAAO,EACP,OAAO,EACP,QAAQ,EACR,MAAM,EACN,OAAO,EACP,QAAQ,EACR,IAAI,EACJ,MAAM,GACC,EACT,GAAQ;IAER,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAE1C,mBAAmB,CAAC,GAAG,EAAE,OAAO;QAC9B,IAAI;YACF,OAAO,CAAC,IAAI,CAAC,CAAC;SACf;QAED,IAAI;YACF,OAAO,CAAC,KAAK,CAAC,CAAC;YACf,UAAU,CAAC;gBACT,OAAO,aAAP,OAAO,uBAAP,OAAO,GAAK;aACb,EAAE,GAAG,CAAC,CAAC;SACT;KACF,CAAC,CAAC,CAAC;IAEJ,SAAS,IAAI;QACX,OAAO,CAAC,KAAK,CAAC,CAAC;QACf,IAAI,OAAO,EAAE;YACX,OAAO,EAAE,CAAC;SACX;KACF;IAED,SAAS,CAAC;QACR,OAAO,CAAC,IAAI,CAAC,CAAC;KACf,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IAEX,OAAO,MAAM;UACT,YAAY,CACV,oBAAC,SAAS;YACR,oBAAC,WAAW,IAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAC,cAAc,EAAC,IAAI,EAAE,MAAM;gBAC/D,oBAAC,YAAY;oBACV,OAAO,IAAI,kCAAO,OAAO,CAAQ;oBAClC,oBAAC,YAAY,IAAC,MAAM,EAAE,MAAM,IAAI,EAAE;wBAChC,oBAAC,IAAI,IAAC,IAAI,EAAC,SAAS,GAAG,CACV,CACF;gBAEf,oBAAC,cAAc,QAAE,OAAO,IAAI,QAAQ,CAAkB;gBACrD,CAAC,QAAQ,KACR,oBAAC,WAAW,QACT,MAAM,IACL,MAAM,KAEN,oBAAC,MAAM,IAAC,OAAO,EAAE,MAAM,IAAI,EAAE,WAAe,CAC7C,CACW,CACf,CACW,CACJ,EACZ,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CACtC;UACD,IAAI,CAAC;AACX,CAAC,CACF,CAAC;AAEF,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAA;;;;;;;;;;;;;;CAc3B,CAAC;AAEF,MAAM,aAAa,GAAG,SAAS,CAAA;;;;;;;CAO9B,CAAC;AAEF,MAAM,OAAO,GAAG,GAAG,CAAA;eACJ,aAAa;CAC3B,CAAC;AACF,MAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAkB;;;;;;;;IAQ5CA,MAAmB;IACnBC,IAAc;IACd,CAAC,EAAE,IAAI,EAAE,MAAM,IAAI,GAAG,OAAO,GAAG,EAAE,CAAC;CACtC,CAAC;AAEF,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAA;IAC3BC,EAAQ,CAAC,CAAC;;;;IAIVC,KAAc;IACdC,QAAmB;;;;;;;;;;;;;;;;;;;;;CAqBtB,CAAC;AAEF,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAA;IAC7BC,EAAQ,CAAC,CAAC;CACb,CAAC;AAEF,MAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAA;IAC1BH,EAAQ,CAAC,CAAC;;;;;;;;;;;;;;;;MAgBRI,EAAQ,CAAC,CAAC;;CAEf;;;;"}