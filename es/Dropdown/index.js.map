{"version":3,"file":"index.js","sources":["../../components/Dropdown/index.tsx"],"sourcesContent":["/**\r\n * Dropdown menu\r\n * @prop {element} dropdown: button to click\r\n * @prop {element} children: button to click\r\n * @prop {element} dropdown_menu: menu\r\n * @prop {TPosition} position: position of menu\r\n * @prop {boolean} clickOut\r\n * @prop {string} className\r\n * @prop {string} className\r\n */\r\n\r\nimport React, { useCallback, useEffect, useRef } from \"react\";\r\nimport { borderRadius, boxShadow, fontSize, space } from \"css/base\";\r\n\r\nimport { TPosition } from \"util/type\";\r\nimport styled from \"styled-components\";\r\nimport useHandleDisplay from \"hooks/useHandleDisplay\";\r\nimport usePositionDropdown from \"hooks/usePositionDropdown\";\r\n\r\ninterface IProps {\r\n  dropdown?: JSX.Element | string;\r\n  dropdown_menu: JSX.Element | string;\r\n  children?: JSX.Element | string;\r\n  full?: boolean; // set width is 100% or initial\r\n  clickOut?: boolean; // Hide dropdown menu when click\r\n  position?: TPosition;\r\n  className?: string;\r\n}\r\nexport default React.memo(\r\n  ({\r\n    dropdown,\r\n    dropdown_menu,\r\n    full,\r\n    clickOut = true,\r\n    position,\r\n    children,\r\n    className,\r\n  }: IProps) => {\r\n    const refDropdownMenu = useRef();\r\n\r\n    const { isDisplay, onToggleDisplay } = useHandleDisplay(\r\n      refDropdownMenu,\r\n      clickOut\r\n    );\r\n\r\n    const onToggle = useCallback(() => {\r\n      onToggleDisplay();\r\n    }, [onToggleDisplay]);\r\n\r\n    const { handlePosition } = usePositionDropdown(refDropdownMenu, {\r\n      position,\r\n    });\r\n\r\n    useEffect(() => {\r\n      isDisplay && handlePosition();\r\n    }, [handlePosition, isDisplay]);\r\n\r\n    return (\r\n      <WrapDropdownMenu className={className}>\r\n        <Dropdown onClick={onToggle}>{dropdown || children}</Dropdown>\r\n        {isDisplay && (\r\n          <DropdownMenu\r\n            className={\r\n              \"dropdown-menu \" + (className ? className + \"-menu\" : \"\")\r\n            }\r\n            full={full}\r\n            position={position || \"left\"}\r\n            ref={refDropdownMenu}\r\n          >\r\n            {dropdown_menu}\r\n          </DropdownMenu>\r\n        )}\r\n      </WrapDropdownMenu>\r\n    );\r\n  }\r\n);\r\n\r\nconst WrapDropdownMenu = styled.div`\r\n  position: relative;\r\n`;\r\n\r\ninterface PropsDropdownMenu {\r\n  full: boolean;\r\n  position: TPosition;\r\n}\r\nconst DropdownMenu = styled.div<PropsDropdownMenu>`\r\n  position: absolute;\r\n  min-width: 200px;\r\n  background-color: var(--backgroundContent);\r\n  z-index: 999;\r\n  contain: layout;\r\n  padding: 3px;\r\n\r\n  ${boxShadow.menu};\r\n  ${borderRadius.normal};\r\n  ${(props) => props.full && \"width: max-content\"};\r\n  ${(props) =>\r\n    props.position === \"right\"\r\n      ? \"right: 2px;\"\r\n      : props.position === \"left\"\r\n      ? \"left: 2px;\"\r\n      : \"bottom: calc(100% + 10px);\"};\r\n\r\n  hr {\r\n    height: 1px;\r\n    width: 100%;\r\n    border-top: none;\r\n    border-left: none;\r\n    border-right: none;\r\n    display: block !important;\r\n  }\r\n\r\n  li {\r\n    ${fontSize.normal};\r\n    ${borderRadius.normal};\r\n    ${space.P3.a};\r\n    list-style: none;\r\n    position: relative;\r\n    width: max-content;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    div[src] {\r\n      margin-right: 5px;\r\n    }\r\n\r\n    &:hover {\r\n      background-color: var(--backgroundOpacity);\r\n    }\r\n  }\r\n`;\r\n\r\nconst Dropdown = styled.div``;\r\n"],"names":["boxShadow.menu","borderRadius.normal","fontSize.normal","space.P3"],"mappings":";;;;;;AAAA;;;;;;;;;;AA4BA,YAAe,KAAK,CAAC,IAAI,CACvB,CAAC,EACC,QAAQ,EACR,aAAa,EACb,IAAI,EACJ,QAAQ,GAAG,IAAI,EACf,QAAQ,EACR,QAAQ,EACR,SAAS,GACF;IACP,MAAM,eAAe,GAAG,MAAM,EAAE,CAAC;IAEjC,MAAM,EAAE,SAAS,EAAE,eAAe,EAAE,GAAG,gBAAgB,CACrD,eAAe,EACf,QAAQ,CACT,CAAC;IAEF,MAAM,QAAQ,GAAG,WAAW,CAAC;QAC3B,eAAe,EAAE,CAAC;KACnB,EAAE,CAAC,eAAe,CAAC,CAAC,CAAC;IAEtB,MAAM,EAAE,cAAc,EAAE,GAAG,mBAAmB,CAAC,eAAe,EAAE;QAC9D,QAAQ;KACT,CAAC,CAAC;IAEH,SAAS,CAAC;QACR,SAAS,IAAI,cAAc,EAAE,CAAC;KAC/B,EAAE,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC,CAAC;IAEhC,QACE,oBAAC,gBAAgB,IAAC,SAAS,EAAE,SAAS;QACpC,oBAAC,QAAQ,IAAC,OAAO,EAAE,QAAQ,IAAG,QAAQ,IAAI,QAAQ,CAAY;QAC7D,SAAS,KACR,oBAAC,YAAY,IACX,SAAS,EACP,gBAAgB,IAAI,SAAS,GAAG,SAAS,GAAG,OAAO,GAAG,EAAE,CAAC,EAE3D,IAAI,EAAE,IAAI,EACV,QAAQ,EAAE,QAAQ,IAAI,MAAM,EAC5B,GAAG,EAAE,eAAe,IAEnB,aAAa,CACD,CAChB,CACgB,EACnB;AACJ,CAAC,CACF,CAAC;AAEF,MAAM,gBAAgB,GAAG,MAAM,CAAC,GAAG,CAAA;;CAElC,CAAC;AAMF,MAAM,YAAY,GAAG,MAAM,CAAC,GAAG,CAAmB;;;;;;;;IAQ9CA,IAAc;IACdC,MAAmB;IACnB,CAAC,KAAK,KAAK,KAAK,CAAC,IAAI,IAAI,oBAAoB;IAC7C,CAAC,KAAK,KACN,KAAK,CAAC,QAAQ,KAAK,OAAO;MACtB,aAAa;MACb,KAAK,CAAC,QAAQ,KAAK,MAAM;UACzB,YAAY;UACZ,4BAA4B;;;;;;;;;;;;MAY9BC,QAAe;MACfD,MAAmB;MACnBE,EAAQ,CAAC,CAAC;;;;;;;;;;;;;;;;;CAiBf,CAAC;AAEF,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAA,EAAE;;;;"}